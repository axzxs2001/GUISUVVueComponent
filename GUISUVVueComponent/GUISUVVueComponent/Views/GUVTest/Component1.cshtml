
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>首页</title>
    <script src="~/lib/vue/dist/vue.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    <link href="~/lib/bootstrap/dist/css/bootstrap.css" rel="stylesheet" />

</head>
<body>

    <hr style="border:1px solid #f00" />
    <h1>嵌套组件</h1>
    <div id="example-1" class="container">
        <parent value="数据"></parent>
    </div>
    <script>

        Vue.component('child', {
            props: ['message'],
            template: '<span>子组件值：{{ message }}</span>'
        })
        Vue.component('parent', {
            props: ['value'],
            template: '<div><span>父组件值：{{ value }}</span><br/><child v-bind:message="value"></child></div>'
        })
        new Vue({
            el: '#example-1'
        })
    </script>
    <hr style="border:1px solid #f00" />
    <h1>自定义事件</h1>
    <div id="example-2" class="container">
        <p>{{ total }}</p>
        @*4、把increment事件与incrementTotal绑定*@
        <button-counter v-on:increment="incrementTotal"></button-counter>
        <button-counter v-on:increment="incrementTotal"></button-counter>
    </div>
    <script>
        /*
        组件自定事件，用$emit公布出去，在组件中把事件和相应方法绑定，实现自定义事件的订阅
        */
        Vue.component("button-counter", {
            //1、按钮的click是事件的发源地，会调用clickIncrement方法
            template: '<button v-on:click="clickIncrement">{{counter}}</button>',
            data: function () {
                return {
                    counter: 0
                }
            },
            methods: {
                //2、clickIncrement方法会被触发
                clickIncrement: function () {
                    this.counter += 1
                    //3、会调用increment事件（如果有方法订阅的话）
                    this.$emit('increment')
                }
            }
        })

        new Vue({
            el: '#example-2',
            data: {
                total: 0
            },
            methods: {
                //5、incrementTotal方法被调用到
                incrementTotal: function () {
                    this.total += 1
                }
            }
        })

    </script>





    <hr style="border:1px solid #f00" />

    <hr style="border:1px solid #f00" />

    <hr style="border:1px solid #f00" />

    <hr style="border:1px solid #f00" />

</body>
</html>
